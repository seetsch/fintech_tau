<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fintech Dashboard</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header>
    <div class="header-bar">
      <h1>Fintech</h1>
      <div id="user-info">
        <!-- Welcome message and logout button will be inserted here -->
      </div>
    </div>
  </header>

  <div id="toast-container"></div>

  <main>
    <div class="dashboard-grid">

      <!-- Stock Prediction -->
      <div class="card stock">
        <h2>Stock Prediction</h2>
        <img src="image/stock.webp" alt="Stock Image">
        <ul>
          <li class="stockbtn"><a href="stock/singleStock.html">Single Stock & Analytics</a></li>
          <li class="stockbtn"><a href="stock/compareStock.html">Stock Comparison & Analytics</a></li>
        </ul>
        <div id="stock-data"></div>
      </div>

      <!-- Gold & Silver Prices -->
      <div class="card">
        <h2>Gold & Silver Prices</h2>
        <img src="image/goldsilver.avif" alt="Gold Silver Image">
        <div id="gold-price">Gold price will appear here</div>
        <div id="silver-price">Silver price will appear here</div>
        <button id="fetch-prices-btn">Predict & Fetch</button>
        <div id="status-message" style="color: red;"></div>
      </div>

      <!-- SIP Calculator -->
      <div class="card">
        <h2>SIP Calculator</h2>
        <img src="image/sip.avif" alt="SIP Image">
        <label for="monthly">Monthly Investment (₹):</label>
        <input type="number" id="monthly" placeholder="e.g., 5000" />
        <label for="rate">Expected Annual Return (%):</label>
        <input type="number" id="rate" placeholder="e.g., 12" />
        <label for="years">Investment Duration (Years):</label>
        <input type="number" id="years" placeholder="e.g., 10" />
        <div id="sip-error" class="error-msg"></div>
        <button onclick="calculateSIP()">Calculate</button>
        <div id="sip-results"></div>
      </div>

      <!-- Mutual Fund Calculator -->
      <div class="card">
        <h2>Mutual Fund Calculator</h2>
        <img src="image/mutualfund.avif" alt="MF Image">
        <label for="mf-amount">Investment Amount (₹):</label>
        <input type="number" id="mf-amount" placeholder="e.g., 100000" />
        <label for="mf-rate">Expected Annual Return (%):</label>
        <input type="number" id="mf-rate" placeholder="e.g., 10" />
        <label for="mf-years">Investment Duration (Years):</label>
        <input type="number" id="mf-years" placeholder="e.g., 5" />
        <div id="mf-error" class="error-msg"></div>
        <button onclick="calculateMF()">Calculate</button>
        <div id="mf-results"></div>
      </div>

      <!-- Expense Calculator -->
      <div class="card">
        <h2>Expense Calculator</h2>
        <img src="image/expense.avif" alt="Expense Image">
        <label for="desc">Expense Description</label>
        <input type="text" id="desc" placeholder="e.g. Groceries" />
        <label for="amount">Amount (₹)</label>
        <input type="number" id="amount" placeholder="e.g. 25" min="0" step="0.01" />
        <button id="addExpenseBtn">Add Expense</button>
        <div id="expensesList"></div>
        <div id="totalAmount">Total: $0.00</div>
        <button class="clear-btn" id="clearExpensesBtn">Clear All Expenses</button>
      </div>

      <!-- Finance News -->
      <div class="card">
        <h2>Finance News</h2>
        <img src="image/news.avif" alt="News Image">
        <div id="news-articles">Loading news...</div>
      </div>

      <div id="confirm-box" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:#fff; padding:1rem; box-shadow:0 0 10px rgba(0,0,0,0.2); border-radius:8px; z-index:9999;">
        <p id="confirm-msg">Are you sure?</p>
        <button id="confirm-ok">Yes</button>
        <button id="confirm-cancel">No</button>
      </div>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-content">
      <p>&copy; 2025 <strong>Fintech Dashboard</strong>. All rights reserved.</p>
    </div>
  </footer>
  

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const userInfoDiv = document.getElementById("user-info");
      const username = localStorage.getItem("loggedInUser");

      if (username) {
        userInfoDiv.innerHTML = `
  <span class="username">Welcome, <strong class="user-welcome">${username}</strong></span>
  <a href="#" id="logout" class="btn logout-btn">Logout</a>
`;

        document.getElementById("logout").addEventListener("click", (e) => {
          e.preventDefault();
          localStorage.removeItem("loggedInUser");
          window.location.href = "login.html"; // redirect to login
        });
      } else {
        userInfoDiv.innerHTML = `
          <a href="login.html" class="btn">Login</a>
          <a href="signup.html" class="btn">Sign Up</a>
        `;
      }
    });
  </script>

  <script src="script.js"></script>
</body>

</html>
